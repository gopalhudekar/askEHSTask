{"version":3,"sources":["./src/app/pages/category/category-routing.module.ts","./src/app/pages/category/category.module.ts","./src/app/pages/category/category.page.ts","./src/app/services/database.service.ts","./src/app/pages/category/category.page.scss","./src/app/pages/category/category.page.html"],"names":[],"mappings":"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","file":"src_app_pages_category_category_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CategoryPage } from './category.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CategoryPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CategoryPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CategoryPageRoutingModule } from './category-routing.module';\n\nimport { CategoryPage } from './category.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CategoryPageRoutingModule\n  ],\n  declarations: [CategoryPage]\n})\nexport class CategoryPageModule {}\n","import { DatabaseService, Cat } from './../../services/database.service';\nimport { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-category',\n  templateUrl: './category.page.html',\n  styleUrls: ['./category.page.scss'],\n})\nexport class CategoryPage implements OnInit {\n\n  category :any ;\n  constructor(private db: DatabaseService) { }\n\n  ngOnInit() {\n    this.db.getDatabaseState().subscribe(rdy => {\n      if (rdy) {\n        this.db.getmainCategory().subscribe(devs => {\n          this.category = devs;\n          console.log('Database data: ', this.category)\n        })\n     \n      }\n    });\n  }\n\n}\n","2\nimport { Platform } from '@ionic/angular';\nimport { Injectable } from '@angular/core';\nimport { SQLitePorter } from '@ionic-native/sqlite-porter/ngx';\nimport { HttpClient } from '@angular/common/http';\nimport { SQLite, SQLiteObject } from '@ionic-native/sqlite/ngx';\nimport { BehaviorSubject, Observable } from 'rxjs'\n\n\nexport interface Cat {\n  id: number,\n  name: string,\n}\n\n@Injectable({\n  providedIn: 'root'\n})\n\n\nexport class DatabaseService {\n  private database: SQLiteObject;\n  private dbReady: BehaviorSubject<boolean> = new BehaviorSubject(false);\n\n  mainCategory = new BehaviorSubject([]);\n  constructor(private plt: Platform, \n    private sqlitePorter: SQLitePorter, \n    private sqlite: SQLite, \n    private http: HttpClient) {\n    this.plt.ready().then(() => {\n      this.sqlite.create({\n        name: 'database.db',\n        location: 'default'\n      }).then((db: SQLiteObject) => {\n          this.database = db;\n          this.seedDatabase();\n      });\n    });\n  }\n\n  seedDatabase() {\n    this.http.get('assets/seed.sql', { responseType: 'text'})\n    .subscribe(sql => {\n      this.sqlitePorter.importSqlToDb(this.database, sql)\n        .then(_ => {\n          this.loadmainCategory();\n          this.dbReady.next(true);\n        })\n        .catch(e => console.error(e));\n    });\n  }\n  getDatabaseState() {\n    return this.dbReady.asObservable();\n  }\n \n  getmainCategory(): Observable<Cat[]> {\n    return this.mainCategory.asObservable();\n  }\n \n  \n\nloadmainCategory() {\n    return this.database.executeSql('SELECT * FROM mainCategory', []).then(data => {\n      let categories: Cat[] = [];\n \n      if (data.rows.length > 0) {\n        for (var i = 0; i < data.rows.length; i++) {\n          let skills = [];\n          if (data.rows.item(i).skills != '') {\n            skills = JSON.parse(data.rows.item(i).skills);\n          }\n \n          categories.push({ \n            id: data.rows.item(i).id,\n            name: data.rows.item(i).name, \n           });\n        }\n      }\n      this.mainCategory.next(categories);\n    });\n  }\n \n  addRecord( tablename, name, skills, img) {\n    let data = [name, JSON.stringify(skills), img];\n    return this.database.executeSql('INSERT INTO' + tablename + '(name) VALUES (?)', data).then(data => {\n    \n    });\n  }\n \n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjYXRlZ29yeS5wYWdlLnNjc3MifQ== */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>category</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-list>\\n    <ion-item *ngFor=\\\"let item of category\\\">\\n      <ion-label > {{item.name}}</ion-label>\\n    </ion-item>\\n  </ion-list>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}