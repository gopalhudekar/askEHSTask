<ion-header>
  <ion-toolbar>
    <ion-title>Category</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-button  (click)="addmainCategory()">  <ion-icon  name="add-circle-outline"></ion-icon>  Add Category</ion-button>
  <!-- <ion-button (click)="getAllRecord()"> open modal</ion-button> -->
  <!-- <ng-template #recursiveList let-list>
  <ion-list  *ngFor="let item of list"> 
    <ion-item>
      <ion-label > {{item.name}}</ion-label>    
    </ion-item>
    <ion-item *ngIf="item.child.length > 0">
      <ng-container *ngTemplateOutlet="recursiveList; context:{ $implicit: item.child }"></ng-container>
    </ion-item>
  </ion-list>
  </ng-template>
  <ng-container *ngTemplateOutlet="recursiveList; context:{ $implicit: category }"></ng-container>
   -->

<!-- 
   <ul>
    <ng-template #recursiveList let-list>
      <li *ngFor="let item of list">
        {{item.name}}
        <ul *ngIf="item.child.length > 0">
          <ng-container *ngTemplateOutlet="recursiveList; context:{ $implicit: item.child }"></ng-container>
        </ul>
      </li>
    </ng-template>
    <ng-container *ngTemplateOutlet="recursiveList; context:{ $implicit: category }"></ng-container>
  </ul> -->
  
  <!-- <ul>
    <ng-template #recursiveList let-list>
      <li *ngFor="let item of list">
        {{item.name}}
        <ul *ngIf="item.child.length > 0">
          <ng-container *ngTemplateOutlet="recursiveList; context:{ $implicit: item.child }"></ng-container>
        </ul>
      </li>
    </ng-template>
    <ng-container *ngTemplateOutlet="recursiveList; context:{ $implicit: category }"></ng-container>
  </ul> -->
  
  <ion-list  *ngFor="let item of category" class="parent"> 
    <ion-item>
      <ion-label > {{item.name}}</ion-label>   <ion-icon (click)="onDelete(item)" name="trash-outline"></ion-icon> 
      <ion-icon name="add-circle-outline" (click)="addChildCategory(item)"></ion-icon>  
        <ion-icon slot='end'  *ngIf="item.child.length > 0" name="caret-down-outline"></ion-icon>
    </ion-item>
    <ion-list  *ngFor="let childItem of item.child"  class="child"> 
    <ion-item > 
      <ion-label > {{childItem.name}}</ion-label>    <ion-icon (click)="onDelete(childItem)" name="trash-outline"></ion-icon>  
       <ion-icon (click)="addChildCategory(childItem)" name="add-circle-outline"></ion-icon>      <ion-icon slot='end' (click)="openModal(childItem)" *ngIf="childItem.child.length > 0" name="chevron-forward-outline"></ion-icon>
    </ion-item>
    </ion-list>  
  </ion-list>


 
</ion-content>
